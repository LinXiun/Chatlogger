-- Chat Logger GUI (DisplayName, 12hr format, Spectate safe, Manual scroll, Bottom indicator, Compact, Click-to-copy)
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local camera = workspace.CurrentCamera

-- GUI setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ChatLoggerGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 360, 0, 300)
mainFrame.Position = UDim2.new(0, 10, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BackgroundTransparency = 0.5
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 8)

local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 28)
header.BackgroundTransparency = 1
header.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -140, 1, 0)
title.Position = UDim2.new(0, 8, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Chat Logger"
title.TextColor3 = Color3.fromRGB(220, 220, 220)
title.Font = Enum.Font.SourceSansBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header

-- + Button (player list toggle)
local plusBtn = Instance.new("TextButton")
plusBtn.Size = UDim2.new(0, 24, 0, 24)
plusBtn.Position = UDim2.new(1, -90, 0, 2)
plusBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
plusBtn.BorderSizePixel = 0
plusBtn.Text = "+"
plusBtn.Font = Enum.Font.SourceSansBold
plusBtn.TextSize = 18
plusBtn.TextColor3 = Color3.fromRGB(240, 240, 240)
plusBtn.Parent = header
Instance.new("UICorner", plusBtn).CornerRadius = UDim.new(0, 6)

-- Return button
local returnBtn = Instance.new("TextButton")
returnBtn.Size = UDim2.new(0, 24, 0, 24)
returnBtn.Position = UDim2.new(1, -60, 0, 2)
returnBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
returnBtn.BorderSizePixel = 0
returnBtn.Text = "âŸ³"
returnBtn.Font = Enum.Font.SourceSansBold
returnBtn.TextSize = 18
returnBtn.TextColor3 = Color3.fromRGB(240, 240, 240)
returnBtn.Parent = header
Instance.new("UICorner", returnBtn).CornerRadius = UDim.new(0, 6)

local spectateLabel = Instance.new("TextLabel")
spectateLabel.Size = UDim2.new(0, 160, 0, 20)
spectateLabel.Position = UDim2.new(0, 110, 0, 4)
spectateLabel.BackgroundTransparency = 1
spectateLabel.Font = Enum.Font.SourceSansItalic
spectateLabel.TextSize = 14
spectateLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
spectateLabel.Text = ""
spectateLabel.TextXAlignment = Enum.TextXAlignment.Left
spectateLabel.Parent = header

local hideBtn = Instance.new("TextButton")
hideBtn.Size = UDim2.new(0, 20, 0, 20)
hideBtn.Position = UDim2.new(1, -24, 0, 4)
hideBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
hideBtn.BorderSizePixel = 0
hideBtn.Text = "v"
hideBtn.Font = Enum.Font.SourceSansBold
hideBtn.TextSize = 14
hideBtn.TextColor3 = Color3.fromRGB(240, 240, 240)
hideBtn.Parent = header
Instance.new("UICorner", hideBtn).CornerRadius = UDim.new(0, 6)

local unhideBtn = Instance.new("TextButton")
unhideBtn.Size = UDim2.new(0, 30, 0, 30)
unhideBtn.Position = UDim2.new(0, 10, 0, 10)
unhideBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
unhideBtn.BorderSizePixel = 0
unhideBtn.Text = "^"
unhideBtn.Font = Enum.Font.SourceSansBold
unhideBtn.TextSize = 18
unhideBtn.TextColor3 = Color3.fromRGB(240, 240, 240)
unhideBtn.Visible = false
unhideBtn.Active = true
unhideBtn.Draggable = true
unhideBtn.Parent = screenGui
Instance.new("UICorner", unhideBtn).CornerRadius = UDim.new(0, 6)

hideBtn.MouseButton1Click:Connect(function()
	mainFrame.Visible = false
	unhideBtn.Visible = true
end)
unhideBtn.MouseButton1Click:Connect(function()
	mainFrame.Visible = true
	unhideBtn.Visible = false
end)

-------------------------------------------------------
-- ðŸ“œ Player List Panel (Slide toggle on right)
-------------------------------------------------------
local playerPanel = Instance.new("Frame")
playerPanel.Size = UDim2.new(0, 180, 1, 0)
playerPanel.Position = UDim2.new(1, 10, 0, 0)
playerPanel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
playerPanel.BorderSizePixel = 0
playerPanel.BackgroundTransparency = 0.1
playerPanel.Visible = false
playerPanel.Parent = mainFrame
Instance.new("UICorner", playerPanel).CornerRadius = UDim.new(0, 8)

local playerScroll = Instance.new("ScrollingFrame")
playerScroll.Size = UDim2.new(1, 0, 1, -10)
playerScroll.Position = UDim2.new(0, 0, 0, 6)
playerScroll.BackgroundTransparency = 1
playerScroll.BorderSizePixel = 0
playerScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
playerScroll.ScrollBarThickness = 6
playerScroll.Parent = playerPanel

local playerListLayout = Instance.new("UIListLayout")
playerListLayout.SortOrder = Enum.SortOrder.Name
playerListLayout.Padding = UDim.new(0, 4)
playerListLayout.Parent = playerScroll

local function refreshPlayerList()
	for _, child in ipairs(playerScroll:GetChildren()) do
		if child:IsA("TextButton") then child:Destroy() end
	end

	for _, p in ipairs(Players:GetPlayers()) do
		local btn = Instance.new("TextButton")
		btn.Size = UDim2.new(1, -10, 0, 26)
		btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		btn.BorderSizePixel = 0
		btn.Text = p.DisplayName
		btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		btn.Font = Enum.Font.SourceSansBold
		btn.TextSize = 16
		btn.AutoButtonColor = true
		btn.Parent = playerScroll
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

		btn.MouseButton1Click:Connect(function()
			if p.Character and p.Character:FindFirstChildOfClass("Humanoid") then
				camera.CameraType = Enum.CameraType.Custom
				camera.CameraSubject = p.Character:FindFirstChildOfClass("Humanoid")
				spectateLabel.Text = "Spectating: " .. p.DisplayName
			end
		end)
	end
	playerScroll.CanvasSize = UDim2.new(0, 0, 0, playerListLayout.AbsoluteContentSize.Y + 8)
end

Players.PlayerAdded:Connect(refreshPlayerList)
Players.PlayerRemoving:Connect(refreshPlayerList)

-- Smooth toggle
local isPanelVisible = false
plusBtn.MouseButton1Click:Connect(function()
	isPanelVisible = not isPanelVisible

	if isPanelVisible then
		playerPanel.Visible = true
		refreshPlayerList()
		TweenService:Create(playerPanel, TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			Position = UDim2.new(1, -180, 0, 0)
		}):Play()
	else
		local tween = TweenService:Create(playerPanel, TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
			Position = UDim2.new(1, 10, 0, 0)
		})
		tween:Play()
		tween.Completed:Connect(function()
			playerPanel.Visible = false
		end)
	end
end)
-------------------------------------------------------

-- (Keep the rest of your Chat Logger script here unchanged)